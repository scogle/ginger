<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Ginger</title>

	<script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="lib/handlebars/dist/handlebars-v2.0.0.js"></script>

  <link rel="stylesheet" type="text/css" href="lib/bootstrap/dist/css/bootstrap.min.css">

</head>
<body>

<script id="one-hundred-people" type="text/x-handlebars-template">
  <table class="table table-striped" id="one-hundred-table">
  	<thead>
  		<tr>
	  	{{#each data.head.vars }}
	  		<th>{{ this }}</th>
	  	{{/each }}
	  	</tr>
  	</thead>
  	<tbody>
    {{#with data }}
  	{{#each results.bindings }}
  		<tr>
  			{{#each this }}
  				<td>{{ value }}</td>
  			{{/each }}
  		</tr>
  	{{/each }}
    {{/with }}
  	</tbody>
  </table>
</script>

<script type="text/javascript">
$(document).ready(function(){
	var endpoint = "http://dbpedia.org/sparql?default-graph-uri=http%3A%2F%2Fdbpedia.org&query=select+distinct+%3Fperson+%3Fbirth+%3Fdeath+where+{%3Fperson+a+foaf%3APerson+.+%3Fperson+dbpedia-owl%3AbirthDate+%3Fbirth+.+%3Fperson+dbpedia-owl%3AdeathDate+%3Fdeath+}+LIMIT+100&format=json&timeout=30000&debug=on";
	$.getJSON(endpoint, function(data){
		console.log(data);
    var source = $('#one-hundred-people').html();
    var template = Handlebars.compile(source);
    var html = template({data:data});
    $('body').append(html);
	});
});
</script>
</body>
</html>